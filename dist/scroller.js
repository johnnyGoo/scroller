!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.scroller=o():e.scroller=o()}(this,function(){return function(e){function o(_){if(t[_])return t[_].exports;var i=t[_]={exports:{},id:_,loaded:!1};return e[_].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}var t={};return o.m=e,o.c=t,o.p="/dist/",o(0)}([function(e,o,t){t(1),Scroller=t(3),e.exports=Scroller},function(e,o){(function(e){function o(){var o=Date.now||function(){return+new Date},t=60,_=1e3,i={},l=1;return core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,t=!!o;if(o&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(o.toString())&&(t=!1),t)return function(e,t){o(e,t)};var _=60,i={},l=0,n=1,r=null,a=+new Date;return function(e,o){var t=n++;return i[t]=e,l++,null===r&&(r=setInterval(function(){var e=+new Date,o=i;i={},l=0;for(var t in o)o.hasOwnProperty(t)&&(o[t](e),a=e);e-a>2500&&(clearInterval(r),r=null)},1e3/_)),t}}(),stop:function(e){var o=null!=i[e];return o&&(i[e]=null),o},isRunning:function(e){return null!=i[e]},start:function(e,n,r,a,c,s){var p=o(),f=p,h=0,u=0,m=l++;if(s||(s=document.body),m%20===0){var g={};for(var v in i)g[v]=!0;i=g}var d=function(l){var g=l!==!0,v=o();if(!i[m]||n&&!n(m))return i[m]=null,void(r&&r(t-u/((v-p)/_),m,!1));if(g)for(var T=Math.round((v-f)/(_/t))-1,S=0;S<Math.min(T,4);S++)d(!0),u++;a&&(h=(v-p)/a,h>1&&(h=1));var L=c?c(h):h;e(L,v,g)!==!1&&1!==h||!g?g&&(f=v,core.effect.Animate.requestAnimationFrame(d,s)):(i[m]=null,r&&r(t-u/((v-p)/_),m,1===h||null==a))};return i[m]=!0,core.effect.Animate.requestAnimationFrame(d,s),m}},e.core}window.core=o()}).call(o,function(){return this}())},,function(e,o){var t;!function(){var e=function(){};t=function(o,t){this.__callback=o,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:e,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var _ in t)this.options[_]=t[_]};var o=function(e){return Math.pow(e-1,3)+1},_=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},i={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,t,_){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),t===+t&&(i.__contentWidth=t),_===+_&&(i.__contentHeight=_),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){var t=this;t.__clientLeft=e||0,t.__clientTop=o||0},setSnapSize:function(e,o){var t=this;t.__snapWidth=e,t.__snapHeight=o},activatePullToRefresh:function(e,o,t,_){var i=this;i.__refreshHeight=e,i.__refreshActivate=o,i.__refreshDeactivate=t,i.__refreshStart=_},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,o,t,_,i){var l=this;if(!l.options.zooming)throw new Error("Zooming is not enabled!");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);var n=l.__zoomLevel;null==t&&(t=l.__clientWidth/2),null==_&&(_=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e);var r=(t+l.__scrollLeft)*e/n-t,a=(_+l.__scrollTop)*e/n-_;r>l.__maxScrollLeft?r=l.__maxScrollLeft:r<0&&(r=0),a>l.__maxScrollTop?a=l.__maxScrollTop:a<0&&(a=0),l.__publish(r,a,e,o)},zoomBy:function(e,o,t,_,i){var l=this;l.zoomTo(l.__zoomLevel*e,o,t,_,i)},scrollTo:function(e,o,t,_){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=_&&_!==i.__zoomLevel){if(!i.options.zooming)throw new Error("Zooming is not enabled!");e*=_,o*=_,i.__computeScrollMax(_)}else _=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(t=!1),i.__isTracking||i.__publish(e,o,_,t)},scrollBy:function(e,o,t){var _=this,i=_.__isAnimating?_.__scheduledLeft:_.__scrollLeft,l=_.__isAnimating?_.__scheduledTop:_.__scrollTop;_.scrollTo(i+(e||0),l+(o||0),t)},doMouseZoom:function(e,o,t,_){var i=this,l=e>0?.97:1.03;return i.zoomTo(i.__zoomLevel*l,!1,t-i.__clientLeft,_-i.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error("Invalid touch list: "+e);if(o instanceof Date&&(o=o.valueOf()),"number"!=typeof o)throw new Error("Invalid timestamp value: "+o);var t=this;t.__interruptedAnimation=!0,t.__isDecelerating&&(core.effect.Animate.stop(t.__isDecelerating),t.__isDecelerating=!1,t.__interruptedAnimation=!0),t.__isAnimating&&(core.effect.Animate.stop(t.__isAnimating),t.__isAnimating=!1,t.__interruptedAnimation=!0);var _,i,l=1===e.length;l?(_=e[0].pageX,i=e[0].pageY):(_=Math.abs(e[0].pageX+e[1].pageX)/2,i=Math.abs(e[0].pageY+e[1].pageY)/2),t.__initialTouchLeft=_,t.__initialTouchTop=i,t.__zoomLevelStart=t.__zoomLevel,t.__lastTouchLeft=_,t.__lastTouchTop=i,t.__lastTouchMove=o,t.__lastScale=1,t.__enableScrollX=!l&&t.options.scrollingX,t.__enableScrollY=!l&&t.options.scrollingY,t.__isTracking=!0,t.__didDecelerationComplete=!1,t.__isDragging=!l,t.__isSingleTouch=l,t.__positions=[]},doTouchMove:function(e,o,t){if(null==e.length)throw new Error("Invalid touch list: "+e);if(o instanceof Date&&(o=o.valueOf()),"number"!=typeof o)throw new Error("Invalid timestamp value: "+o);var _=this;if(_.__isTracking){var i,l;2===e.length?(i=Math.abs(e[0].pageX+e[1].pageX)/2,l=Math.abs(e[0].pageY+e[1].pageY)/2):(i=e[0].pageX,l=e[0].pageY);var n=_.__positions;if(_.__isDragging){var r=i-_.__lastTouchLeft,a=l-_.__lastTouchTop,c=_.__scrollLeft,s=_.__scrollTop,p=_.__zoomLevel;if(null!=t&&_.options.zooming){var f=p;if(p=p/_.__lastScale*t,p=Math.max(Math.min(p,_.options.maxZoom),_.options.minZoom),f!==p){var h=i-_.__clientLeft,u=l-_.__clientTop;c=(h+c)*p/f-h,s=(u+s)*p/f-u,_.__computeScrollMax(p)}}if(_.__enableScrollX){c-=r*this.options.speedMultiplier;var m=_.__maxScrollLeft;(c>m||c<0)&&(_.options.bouncing?c+=r/2*this.options.speedMultiplier:c=c>m?m:0)}if(_.__enableScrollY){s-=a*this.options.speedMultiplier;var g=_.__maxScrollTop;(s>g||s<0)&&(_.options.bouncing?(s+=a/2*this.options.speedMultiplier,_.__enableScrollX||null==_.__refreshHeight||(!_.__refreshActive&&s<=-_.__refreshHeight?(_.__refreshActive=!0,_.__refreshActivate&&_.__refreshActivate()):_.__refreshActive&&s>-_.__refreshHeight&&(_.__refreshActive=!1,_.__refreshDeactivate&&_.__refreshDeactivate()))):s=s>g?g:0)}n.length>60&&n.splice(0,30),n.push(c,s,o),_.__publish(c,s,p)}else{var v=_.options.locking?3:0,d=5,T=Math.abs(i-_.__initialTouchLeft),S=Math.abs(l-_.__initialTouchTop);_.__enableScrollX=_.options.scrollingX&&T>=v,_.__enableScrollY=_.options.scrollingY&&S>=v,n.push(_.__scrollLeft,_.__scrollTop,o),_.__isDragging=(_.__enableScrollX||_.__enableScrollY)&&(T>=d||S>=d),_.__isDragging&&(_.__interruptedAnimation=!1)}_.__lastTouchLeft=i,_.__lastTouchTop=l,_.__lastTouchMove=o,_.__lastScale=t}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var t=o.__positions,_=t.length-1,i=_,l=_;l>0&&t[l]>o.__lastTouchMove-100;l-=3)i=l;if(i!==_){var n=t[_]-t[i],r=o.__scrollLeft-t[i-2],a=o.__scrollTop-t[i-1];o.__decelerationVelocityX=r/n*(1e3/60),o.__decelerationVelocityY=a/n*(1e3/60);var c=o.options.paging||o.options.snapping?4:1;Math.abs(o.__decelerationVelocityX)>c||Math.abs(o.__decelerationVelocityY)>c?o.__refreshActive||o.__startDeceleration(e):o.options.scrollingComplete()}else o.options.scrollingComplete()}else e-o.__lastTouchMove>100&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,t,i,l){var n=this,r=n.__isAnimating;if(r&&(core.effect.Animate.stop(r),n.__isAnimating=!1),l&&n.options.animating){n.__scheduledLeft=e,n.__scheduledTop=t,n.__scheduledZoom=i;var a=n.__scrollLeft,c=n.__scrollTop,s=n.__zoomLevel,p=e-a,f=t-c,h=i-s,u=function(e,o,t){t&&(n.__scrollLeft=a+p*e,n.__scrollTop=c+f*e,n.__zoomLevel=s+h*e,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},m=function(e){return n.__isAnimating===e},g=function(e,o,t){o===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||t)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=core.effect.Animate.start(u,m,g,n.options.animationDuration,r?o:_)}else n.__scheduledLeft=n.__scrollLeft=e,n.__scheduledTop=n.__scrollTop=t,n.__scheduledZoom=n.__zoomLevel=i,n.__callback&&n.__callback(e,t,i),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(e){var o=this;if(o.options.paging){var t=Math.max(Math.min(o.__scrollLeft,o.__maxScrollLeft),0),_=Math.max(Math.min(o.__scrollTop,o.__maxScrollTop),0),i=o.__clientWidth,l=o.__clientHeight;o.__minDecelerationScrollLeft=Math.floor(t/i)*i,o.__minDecelerationScrollTop=Math.floor(_/l)*l,o.__maxDecelerationScrollLeft=Math.ceil(t/i)*i,o.__maxDecelerationScrollTop=Math.ceil(_/l)*l}else o.__minDecelerationScrollLeft=0,o.__minDecelerationScrollTop=0,o.__maxDecelerationScrollLeft=o.__maxScrollLeft,o.__maxDecelerationScrollTop=o.__maxScrollTop;var n=function(e,t,_){o.__stepThroughDeceleration(_)},r=o.options.snapping?4:.001,a=function(){var e=Math.abs(o.__decelerationVelocityX)>=r||Math.abs(o.__decelerationVelocityY)>=r;return e||(o.__didDecelerationComplete=!0),e},c=function(e,t,_){o.__isDecelerating=!1,o.__didDecelerationComplete&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,o.options.snapping)};o.__isDecelerating=core.effect.Animate.start(n,a,c)},__stepThroughDeceleration:function(e){var o=this,t=o.__scrollLeft+o.__decelerationVelocityX,_=o.__scrollTop+o.__decelerationVelocityY;if(!o.options.bouncing){var i=Math.max(Math.min(o.__maxDecelerationScrollLeft,t),o.__minDecelerationScrollLeft);i!==t&&(t=i,o.__decelerationVelocityX=0);var l=Math.max(Math.min(o.__maxDecelerationScrollTop,_),o.__minDecelerationScrollTop);l!==_&&(_=l,o.__decelerationVelocityY=0)}if(e?o.__publish(t,_,o.__zoomLevel):(o.__scrollLeft=t,o.__scrollTop=_),!o.options.paging){var n=.95;o.__decelerationVelocityX*=n,o.__decelerationVelocityY*=n}if(o.options.bouncing){var r=0,a=0,c=o.options.penetrationDeceleration,s=o.options.penetrationAcceleration;t<o.__minDecelerationScrollLeft?r=o.__minDecelerationScrollLeft-t:t>o.__maxDecelerationScrollLeft&&(r=o.__maxDecelerationScrollLeft-t),_<o.__minDecelerationScrollTop?a=o.__minDecelerationScrollTop-_:_>o.__maxDecelerationScrollTop&&(a=o.__maxDecelerationScrollTop-_),0!==r&&(r*o.__decelerationVelocityX<=0?o.__decelerationVelocityX+=r*c:o.__decelerationVelocityX=r*s),0!==a&&(a*o.__decelerationVelocityY<=0?o.__decelerationVelocityY+=a*c:o.__decelerationVelocityY=a*s)}}};for(var l in i)t.prototype[l]=i[l]}(),window.Scroller=e.exports=t}])});
//# sourceMappingURL=scroller.js.map